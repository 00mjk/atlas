#include <string>
#include "atlas/internals/atlas_version.h"

const char * atlas_version()     { return ATLAS_VERSION; }
const char * atlas_version_str() { return ATLAS_VERSION_STR; }

unsigned int atlas_version_int()
{
  return 10000*ATLAS_MAJOR_VERSION + 100*ATLAS_MINOR_VERSION + 1*ATLAS_PATCH_VERSION;
}

const char * atlas_git_sha1() { return "@ATLAS_GIT_SHA1@"; }
const char * atlas_git_sha1_abbrev(unsigned int length)
{
  static std::string git_sha1(atlas_git_sha1());
  if( git_sha1.empty() ) git_sha1 = "not available";
  else                   git_sha1 = git_sha1.substr(0,std::min(length,40u));
  return git_sha1.c_str();
}

